[[qvd_db_config]]
All QVD Components, except the QVD Client and the QVD VMA, make use of the QVD-DB. As a result
any system that makes use of a QVD Component should have a QVD Configuration
file that provides the information required to connect to the database.

This information should be configured within a file that is stored at `/etc/qvd/node.conf`.
This path is not created automatically. You can either create it
manually, or you can use the provided configuration template by doing
the following:

----
root@myserver:~# cp -R /usr/share/qvd/config /etc/qvd
----

include::config_database.txt[]

Other QVD Configuration Parameters
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[[config_params]]
Outside of the configuration file, QVD stores the majority of its configuration
options within the QVD-DB. There are a wide range of parameters that apply to
different components within the QVD infrastructure. These parameters can be
set using the QVD CLI Administration Utility. We discuss the
appropriate steps for this in the chapter titled <<qvd-admin-config,QVD CLI Administration Utility>>.

While it is possible to set any of the following configuration parameters within
the node.conf file, the settings within the QVD-DB will always have precedence. This means
that if a change is made to the settings contained within the database, the settings stored
within the configuration file would become obsolete and confusing for future administration
work. Therefore, we strongly recommend that these options are only updated within the database
using the QVD CLI Administration Utility.

This section describes some of these additional configuration parameters. While there are many
other settings which you will be able to view using the QVD CLI Administration Utility, some of these
(such as the parameters prepended with the word 'internal') should never be modified unless under the
expert guidance of a QVD Support Engineer. In general, we do not recommend that you change any of these
configuration parameters unless you have been guided to do so, either by instruction within this
manual, or by QVD Support.

Note that in order to set these parameters, you should have already installed and configured QVD-DB.

TIP: Some configuration parameters may relate to the parameters set for another component in the system.
In these cases, you may need to update the parameter in more than one place. A typical example would be
the ~l7r.port~ setting which would affect the ~client.host.port~ setting.

WARNING: Modifying any QVD 'internal' parameter will void any support agreement that you have set out
for QVD. These parameters are subject to change in any release of the software and are designed to help
developers debug behaviour inside of the product.

QVD System Paths
^^^^^^^^^^^^^^^^
include::config_systempaths.txt[]

Logging
^^^^^^^
include::config_logging.txt[]

L7R Configuration Options
^^^^^^^^^^^^^^^^^^^^^^^^^
include::config_l7r.txt[]

HKD Configuration Options
^^^^^^^^^^^^^^^^^^^^^^^^^
include::config_hkd.txt[]

VM Options
^^^^^^^^^^
[[vm_options]]
There are some options that can be set to control virtual machine behaviour within QVD:

----
vm.overlay.persistent = 0
vm.kvm.virtio = 1
vm.vnc.redirect = 0
vm.vnc.opts =
vm.serial.redirect = 1
vm.serial.capture = 0
vm.network.ip.start =
vm.network.netmask = 
vm.network.gateway=
vm.network.bridge=
vm.network.dns_server=
----

The values set above are the default values.

* *vm.overlay.persistent*: whether to make use of persistent overlays for temporary and log files
* *vm.kvm.virtio*: whether to make use of the virtio driver for networking (the OSF running in the image must support the virtio driver)
* *vm.vnc.redirect*: redirect traffic to a running VNC server to allow access from outside the QVD bus network (VNC must be installed and running in the OSF)
* *vm.vnc.opts*: additional VNC options that should be applied to the VNC connection
* *vm.serial.redirect*: redirect traffic to the serial console to allow access from outside the QVD bus network
* *vm.serial.capture*: capture serial console output to file
* *vm.network.ip.start*: the start IP address for the range allocated for the virtual machines on the QVD bus network
* *vm.network.netmask*: CIDR netmask for the size of the QVD bus network
* *vm.network.gateway*: IP of the firewall on the QVD bus network that will be passed by DHCP to the virtual machines
* *vm.network.bridge*: Name of the bridge interface
* *vm.network.dns_server*: IP of the DNS service to be configured by DHCP on the QVD bus network

Note that the 'vm.network' settings are generally required in order
for the QVD-Node servers to function correctly.
